<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculadora de IMC</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="./CSS/style.css">
  
    <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> -->
    <script src="./JS/app.js" defer></script>
  
  
  </head>
  <body>
<!-- PLACEHOLDER ONDE RODARÁ O APP HTML BASEADO EM ROTAS -->    
    <div id="app">        
      <div class="spinner-border loading_button app" role="status">
        <span class="sr-only"></span>
      </div>
      <span class="loadingtext">Loading...</span>
      
    </div>       
    </div>
    <!-- <script type="text/javascript" onload> 
    const redirect = document.getElementById('redirect').textContent
    if (redirect == '') {
    setTimeout("updateRoute('register')", 2000)
    } else if (redirect == 'calc') {
      setTimeout("updateRoute('calc')", 2000)
    }
  </script>
--><template id="register">
  <section>
    <div class="container mt-3 conteudo">
      <h1>Health Care App</h1>
      <br>
      <h3>Registrar</h3>
      <form id="registerForm" action="javascript:register()">
      <div class="grid">
        <div class="g-col-6">
          <div class="form-floating">
            <input type="text" name="name" id="name" class="form-control" required>
            <label for="nome">Nome completo</label>
          </div>
        </div>
        <div class="g-col-4">
          <div class="form-floating">
            <input type="text" name="email" id="email" class="form-control" required onblur="validarEmail()" onfocus="resetMsg()">
            <label for="email">E-mail</label>
            <div id="emailHelpBlock" class="form-text">
              <small id="validateemail"></small>
            </div>
          </div>
        </div>
        <div class="g-col-2">
          <div class="form-floating">
            <input type="date" class="form-control" name="birthday" id="birthday" required>
            <label for="birthday">Data de nascimento</label>
          </div>
        </div>
        <div class="g-col-4">
          <div class="form-floating">
            <select class="form-select" id="subscription" aria-label="subscription" required>
              <option value="free" selected>Gratuito - 30 dias</option>
              <option value="silver">Prata R$19,90/mês</option>
              <option value="gold">Ouro R$29,90/mês</option>
              <option value="diamond">Diamante R$49,90/mês</option>
            </select>
            <label for="subscription">Selecione seu plano</label>
          </div>
        </div>
        <div class="g-col-3">
          <div class="form-floating">
            <input type="password" id="password" class="form-control" aria-describedby="passwordHelpBlock" required>
            <label for="password">Senha</label>
            <div id="passwordHelpBlock" class="form-text">
              <small>Sua senha deve conter de 8-20 caracteres, conter letras e números, e não pode conter espaços, caracteres especiais ou emoji.</small>
            </div>
          </div>
        </div>
        <div class="g-col-12">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="concordo" required>
            <label class="form-check-label" for="concordo">Concordo com os <a href="">Termos</a> e <a href="">Condições</a></label>

          </div>
        </div>
        <div class="g-col-3">
          <div class="form-floating">
            <button id="registrate" type="submit" class="btn btn-primary">Cadastrar</button>
            <div id="registerError"  class="form-text">
              <small class="errorBackground" id="invalidEmail"></small>
            </div>
          </div>
        </div> 
        <div class="g-col-2">
         <div id="loadingFather" class="progress" style="display: none">
<div id="loadingBar" class="progress-bar progress-bar-striped" role="progressbar" aria-valuenow="0" aria-valuemax="100" width="100%"></div>
         </div>
          </div>
         
      </div>
      
    </form>
    <hr>
    <br>
      <h3>Entrar</h3>
    <form id="loginForm" action="javascript:login()">
      <div class="grid">
        <div class="g-col-4">
          <div class="form-floating">
            <input type="text" name="email" id="emailLogin" class="form-control" required>
            <label for="email">E-mail</label>
            <div id="emailHelpBlock" class="form-text">
              <small id="validateemail"></small>
            </div>
          </div>
        </div>
        <div class="g-col-3">
          <div class="form-floating">
            <input type="password" id="passwordLogin" class="form-control" aria-describedby="passwordHelpBlock" required>
            <label for="password">Senha</label>
            <div id="passwordHelpBlock" class="form-text">
              <small></small>
            </div>
          </div>
        </div>
        <div class="g-col-10">
          <div class="form-floating">
            <button id="login" type="submit" class="btn btn-primary">Login</button>
            <div id="loginError" role="alert"  class="form-text">
              <small class="errorBackground" id=""></small>
            </div>
          </div>
        </div>
    </form>
    </div>
  </section>
  </template>
    <!-- <script  type="text/javascript" onload>
      cadastrar.addEventListener('click', () => {
  const nascimento = document.getElementById('nascimento').value
  const nome = document.getElementById('nome').value
  const email = document.getElementById('email').value
  const plano = document.getElementById('plano').value
  const senha = document.getElementById('password').value
  let message = document.getElementById('btnError')
  // var regex = (regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/)
  // if (regex.test(emailElement.value) == true) {
  for (let i = 0; i < db.length; i++) {
    if (db.key(i) == email) {
      return (message.textContent = 'Este e-mail já cadastrado!')
    } else {
      db.setItem(
        `${email}`,
        JSON.stringify(new Cliente(nome, email, nascimento, plano, senha))
      )
      console.log(db.length)
    }
  }
})
    </script> -->
  <!-- </template> -->
    <template id="calc">
      <section>
    <div class="container conteudo">
      <h1 class="mt-3 mb-3">Bem vindo {ciclano}</h1>
      <h2>Preencha os dados abaixo para calcular o seu IMC</h2><form>
      <div class="grid">     
        <div class="g-col-2">
          <div class="form-floating">
             <input type="text" class="form-control"    name="altura" id="altura" >
             <label for="altura">
            altura (m)
            </label>
          </div>
        
         </div>
        <div class="g-col-2">
          <div class="form-floating">
            <input type="text" class="form-control"  name="massa" id="massa">
            <label for="massa">peso (kg)</label>
          </div>
        </div>
        <div class="g-col-12">
          <button type="submit" id="calcular" class="btn btn-primary">Calcular</button>
        </div>
      </div>
    </form>
      <div class="container mt-3 mb-3">
        <h4>O seu IMC é de <span id="valueIMC"></span></h4>
      </div>
      <hr>
      <div class="container">
        <button type="button" class="btn btn-dark" onclick="logout()">Sair</button>
      </div>
    </section>
    
    </template>
    

      <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    >
    </script>

<!-- <script
src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
crossorigin="anonymous"
></script>

<script
src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
crossorigin="anonymous"
></script> -->
    </body>
</html>
